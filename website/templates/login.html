<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Medical Portal Login</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/login.css') }}">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@48,400,0,0" />
    <link rel="icon" href="../static/images/Finman_copy-removebg-preview.png">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body>
    <div class="logincard-container">
        <div class="image">
            <img src="https://img.freepik.com/free-vector/doctors-concept-illustration_114360-1515.jpg?w=1200" 
                 id="main-image" 
                 alt="Medical illustration">
        </div>

        <div class="login-card">
            <div class="header">
                <h1>Welcome Back</h1>
                <div>Sign in to access your medical portal</div>
            </div>

            <form method="POST" class="login-form">
                <div class="form-item">
                    <input type="email" 
                           id="email" 
                           name="email" 
                           placeholder="Email address" 
                           maxlength="100" 
                           required 
                           autofocus>
                    <span class="material-symbols-rounded">mail</span>
                </div>
                
                <div class="form-item">
                    <input type="password" 
                           id="password" 
                           name="password" 
                           placeholder="Password" 
                           maxlength="100" 
                           required>
                    <span class="material-symbols-rounded">lock</span>
                </div>

                <button id="sign-in" type="submit">Sign In</button>
                
                <div class="form-item-footer">
                    Don't have an account?
                    <a href="/signup" id="account">Create Account</a>
                </div>
            </form>

            <div class="login-card-social">
                <a href="/">
                    <svg xmlns="http://www.w3.org/2000/svg" 
                         id="home-icon" 
                         width="30" 
                         height="32" 
                         viewBox="0 0 24 24" 
                         stroke-width="1.5" 
                         fill="none" 
                         stroke-linecap="round" 
                         stroke-linejoin="round">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                        <polyline points="5 12 3 12 12 3 21 12 19 12" />
                        <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
                        <rect x="10" y="12" width="4" height="4" />
                    </svg>
                </a>
            </div>
        </div>
    </div>

    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                <script>
                    Swal.fire({
                        title: "{{ category.title() }}!",
                        text: "{{ message }}",
                        icon: "{{ category }}" == "danger" ? "error" : "{{ category }}",
                        confirmButtonColor: '#2563eb'
                    });
                </script>
            {% endfor %}
        {% endif %}
    {% endwith %}
</body>
</html>